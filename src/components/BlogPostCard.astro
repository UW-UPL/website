---
import type { CollectionEntry } from "astro:content";

type Props = { post: CollectionEntry<"blog"> };

const { post } = Astro.props;

let formatter = new Intl.DateTimeFormat("en", {
    year: "numeric",
    month: "long",
    day: "numeric",
});

const formattedPubDate = formatter.format(post.data.pubDate);

const formattedUpdatedDate = formatter.format(post.data.updatedDate);

const readingTime = (await post.render()).remarkPluginFrontmatter.minutesRead;
---

<div
    class="flex flex-col bg-red-100 p-6 rounded-lg drop-shadow-xl text-neutral-800 font-sans"
>
    <h1 class="text-4xl font-semibold">
        <a href={`/blog/${post.slug}/`}>{post.data.title}</a>
    </h1>
    <h6 class="font-medium text-md">
        Published {formattedPubDate}{
            post.data.updatedDate && ` | Edited ${formattedUpdatedDate}`
        } | {readingTime} | By {post.data.author}
    </h6>
    <p class="text-md font-normal mt-2">{post.data.description}</p>
</div>
